<!--
 * @Author: RongWei
 * @Date: 2021-09-20 11:21:19
 * @LastEditors: RongWei
 * @LastEditTime: 2021-09-27 21:11:09
 * @Description: file content
-->
## å¦‚ä½•ç”Ÿæˆ package.json å’Œ package-lock.json
Node.js æ ‡å‡†çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥ç®¡ç†é¡¹ç›®ä¾èµ–çš„ä¸‹è½½
`npm init` äº¤äº’å¼é—®ç­”çš„æ–¹å¼ç”Ÿæˆ packahe.json
`npm init -y` è‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„ package.json
`npm install` å®‰è£… package.json ä¸­çš„ä¾èµ–ï¼Œå¹¶ç”Ÿæˆ package-lock.json, é”ä½ä¾èµ–åŠä¾èµ–çš„ä¾èµ–çš„ç‰ˆæœ¬
`npm install <pkg-name>` å®‰è£…æŸä¸ªè½¯ä»¶åŒ…
`npm update <pkg-name>` æ›´æ–°æŸä¸ªè½¯ä»¶åŒ…
`npm root -g` å…¨å±€å®‰è£…åŒ…çš„ä½ç½®

## [package.json](https://docs.npmjs.com/cli/v7/configuring-npm/package-json)
package.json æ–‡ä»¶æ˜¯é¡¹ç›®çš„æ¸…å•ã€‚å®ƒçš„å†…å®¹æ²¡æœ‰å›ºå®šçš„è¦æ±‚ï¼Œæ»¡è¶³ JSON æ ¼å¼å³å¯
- `name` é¡¹ç›®åç§°ï¼Œå‘½åæœ‰ä¸€å®šçš„è§„èŒƒã€‚
  - å½“åœ¨ npm ä¸Šå‘å¸ƒåŒ…æ—¶ï¼Œä¼šæˆä¸º URL çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ä¸èƒ½åŒ…å«ä»»ä½•é URL å®‰å…¨å­—ç¬¦ï¼›
  - ä¹Ÿå¯èƒ½ä¼šä½œä¸º require() çš„å‚æ•°ä¼ é€’
  - æœ‰äº›åŒ…åä¼šå«æœ‰ [scope](https://docs.npmjs.com/cli/v7/using-npm/scope)

- `version` å½“å‰çš„ç‰ˆæœ¬
**å½“éœ€è¦å‘å¸ƒåŒ…æ—¶ï¼Œä»¥ä¸Šä¸¤ä¸ªå±æ€§æ˜¯åŠå…¶é‡è¦è€Œä¸”å¿…é¡»çš„ï¼Œå®ƒä»¬ä¸€èµ·æ„æˆäº†ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦**
- `description` æè¿°ä¿¡æ¯
- `keywords` ä¸åŒ…åŠŸèƒ½ç›¸å…³çš„å…³é”®å­—æ•°ç»„
**ä»¥ä¸Šä¸¤ä¸ªå±æ€§ä¾¿äºåœ¨ npm åº“ä¸­æœç´¢çš„æ—¶å€™å‘ç°ä½ çš„æ¨¡å—ï¼Œåœ¨ npm æœç´¢çš„æ—¶å€™ä¼šè¢«åˆ—å‡ºæ¥**
- `homepage` é¡¹ç›®çš„ä¸»é¡µåœ°å€
- `scripts` æŒ‡å®šäº†è¿è¡Œè„šæœ¬å‘½ä»¤çš„ npm å‘½ä»¤è¡Œç¼©å†™
  ```
  // å½“æ ¹ç›®å½•ä¸‹æœ‰ server.js æ—¶, start å‘½ä»¤é»˜è®¤æ˜¯æ‰§è¡Œ server.js
  "scripts": {"start": "node server.js"}
  ```

- `dependencies` é¡¹ç›®è¿è¡Œæ‰€ä¾èµ–çš„æ¨¡å—ï¼Œ`npm install <pck> --save-prod`
- `devDependencies` é¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„æ¨¡å—ï¼Œé€šå¸¸æ˜¯ä¸€äº›å¼€å‘ã€æµ‹è¯•ã€æ‰“åŒ…å·¥å…·ï¼Œå¦‚ babelã€webpackã€ESLintã€jestç­‰ï¼Œ `npm install <pck> --save-dev` æˆ– `npm install <pck> -D`
***éœ€è¦è®¾ç½® --production æ ‡å¿—ï¼ˆnpm install --productionï¼‰ï¼Œä»¥é¿å…å®‰è£…è¿™äº›å¼€å‘ä¾èµ–é¡¹***
- `peerDependencies` åº”ç”¨è¿è¡Œä¾èµ–çš„å®¿ä¸»åŒ…ï¼Œå¯ä»¥è¢«å¯¹ç­‰å®‰è£…
- `bin` æŒ‡å®šå„ä¸ªå†…éƒ¨å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ï¼Œåœ¨ç¼–å†™ node å·¥å…·çš„æ—¶å€™ä¸€å®šä¼šç”¨åˆ°ã€‚ä¾‹å¦‚ webpack æ¨¡å—ï¼š
  ```
  // å½“æˆ‘ä»¬æ‰§è¡Œ webpack å‘½ä»¤çš„æ—¶å€™ï¼Œæ‰§è¡Œçš„æ˜¯ bin/webpack.js æ–‡ä»¶ä¸­çš„ä»£ç 
  // åœ¨æ¨¡å—ä»¥ä¾èµ–çš„æ–¹å¼è¢«å®‰è£…ï¼Œå¦‚æœå­˜åœ¨ bin é€‰é¡¹ï¼Œä¼šåœ¨ node_modules/.bin/ ä¸‹ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ï¼Œnpm ä¼šå¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨ node_modules/.bin/ ç›®å½•ä¸‹å»ºç«‹ç¬¦å·é“¾æ¥ã€‚ç”±äº node_modules/.bin/ ç›®å½•ä¼šåœ¨è¿è¡Œæ—¶åŠ å…¥ç³»ç»Ÿçš„ PATH å˜é‡ï¼Œå› æ­¤åœ¨è¿è¡Œ npm æ—¶ï¼Œå°±å¯ä»¥ä¸å¸¦è·¯å¾„ï¼Œç›´æ¥é€šè¿‡å‘½ä»¤æ¥è°ƒç”¨è¿™äº›è„šæœ¬ã€‚
  // å¯æ‰§è¡Œæ–‡ä»¶éœ€è¦ä»¥ `#!/usr/bin/env node` å¼€å¤´
  "bin": {
    "webpack": "bin/webpack.js"
  }
  ```
- `main` æŒ‡å®šåŠ è½½æ¨¡å—çš„å…¥å£æ–‡ä»¶ï¼Œrequire() å¯¼å…¥çš„æ—¶å€™å°±ä¼šåŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚é»˜è®¤å€¼æ˜¯æ¨¡å—æ ¹ç›®å½•ä¸‹çš„ index.js
- `private` è®¾ç½®ä¸º trueï¼Œnpm å°†æ‹’ç»å‘å¸ƒå®ƒï¼Œä¸ºäº†é˜²æ­¢ç§æœ‰æ¨¡å—è¢«æ— æ„é—´å‘å¸ƒå‡ºå»
- `repository` æŒ‡å®šä»£ç å­˜æ”¾åœ°å€ï¼Œå¯¹æƒ³è¦ä¸ºä½ çš„é¡¹ç›®è´¡çŒ®ä»£ç çš„äººæœ‰å¸®åŠ©
  ```
  "repository": {
    "type": "git",
    "url": "https://github.com/xxx/xxx.git"
  }
  ```
- `bugs` ç”¨äºé¡¹ç›®é—®é¢˜çš„åé¦ˆ issue åœ°å€æˆ–è€…ä¸€ä¸ªé‚®ç®±
  ```
  // å¦‚æœæä¾›äº† urlï¼Œåˆ™å¯ä»¥è¢« npm bugs å‘½ä»¤ä½¿ç”¨
  "bugs": {
    "url": "",
    "email": ""
  } 
  ```
- `license` è½¯ä»¶åŒ…çš„è®¸å¯è¯
- `author` ä½œè€…
  ```
  "author": {
    "name": "rongwei",
    "email": "rongwei@maycur.com",
    "url": "https://xxxx.com"
  }

  "author": "rongwei rongwei@maycur.com https://xxxx.com"
  ```
- `contributors` è´¡çŒ®è€…
```
{
  "contributors": [
    {
      "name": "rongwei",
      "email": "rongwei@maycur.com",
      "url": "https://xxxx.com"
    }
  ]
}
```
### peerDependencies
>peerDependencies çš„ç›®çš„æ˜¯æç¤ºå®¿ä¸»ç¯å¢ƒå»å®‰è£…æ»¡è¶³æ’ä»¶ peerDependencies æ‰€æŒ‡å®šä¾èµ–çš„åŒ…ï¼Œç„¶ååœ¨æ’ä»¶ import æˆ–è€… require æ‰€ä¾èµ–çš„åŒ…çš„æ—¶å€™ï¼Œæ°¸è¿œéƒ½æ˜¯å¼•ç”¨å®¿ä¸»ç¯å¢ƒç»Ÿä¸€å®‰è£…çš„ npm åŒ…ï¼Œæœ€ç»ˆè§£å†³æ’ä»¶ä¸æ‰€ä¾èµ–åŒ…ä¸ä¸€è‡´çš„é—®é¢˜ã€‚

#### ä¸ºä½•è¦å¼•å…¥ peerDependencies
å‡è®¾ï¼š
```
// maycur-business å’Œ maycur-antd package.json
"dependencies": {
  "classnames": "^2.2.5"
}
```
é‚£ä¹ˆæˆ‘ä»¬åœ¨ form-web ä¸­æ‰§è¡Œ `npm install maycur-business` ä¼šå¾—åˆ°å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š
```
maycur-form-web
|- node_modules
   |- maycur-business
      |- classnames
   |- maycur-antd
      |- classnames
```
é—®é¢˜ï¼š
1ã€classnames è¢«å¤šæ¬¡å®‰è£…
2ã€form-web ä¸­æ— æ³•ç›´æ¥ä½¿ç”¨ classnamesï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¢«ç›´æ¥å®‰è£…åœ¨ node_modules ç›®å½•ä¸‹
ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œåœ¨ npm2 ä¸­å¼•å…¥äº† peerDependencies
```
// maycur-business å’Œ maycur-antd package.json
"peerDependencies": {
  "classnames": "^2.2.5"
}
```
è¿™æ—¶åœ¨ form-web ä¸­æ‰§è¡Œ `npm install maycur-business` ä¼šå¾—åˆ°å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š
```
maycur-form-web
|- node_modules
   |- maycur-business
   |- maycur-antd
   |- classnames
```


### [scope](https://docs.npmjs.com/cli/v7/using-npm/scope)
scope æ˜¯ä¸€ç§å°†ç›¸å…³çš„æ¨¡å—ç»„ç»‡åˆ°ä¸€èµ·çš„ä¸€ç§æ–¹å¼ã€‚å¯ä»¥ç†è§£ä¸ºä½œç”¨åŸŸã€å‘½åç©ºé—´ï¼Œå¯ä»¥é˜²æ­¢åŒ…é‡å
å‘½åéµå¾ª name çš„è§„èŒƒï¼Œscope å‰é¢æ˜¯ @ ç¬¦å·ï¼Œåé¢æ˜¯ /ï¼Œå¦‚ `@somescope/somepackagename`ï¼Œä¼šè¢«å®‰è£…åœ¨ `node_modules/@somescope/somepackagename`ä¸‹


scopes å’Œ åŒ…çš„å¯è§æ€§
- åŒ…çš„å¯è§æ€§ç”±åŒ…çš„ scope å’Œè®¿é—®çº§åˆ«ï¼ˆå…¬å…±æˆ–ç§æœ‰ï¼‰æ¥å†³å®šã€‚
- é scope çš„åŒ…æ€»æ˜¯å…¬å…±çš„
- ç§æœ‰åŒ…æ€»æ˜¯æœ‰ä½œç”¨åŸŸ(scope)çš„
- å¸¦æœ‰ scope çš„åŒ…é»˜è®¤æ˜¯ç§æœ‰çš„ï¼Œå½“æƒ³å‘å¸ƒä¸€ä¸ªå…¬å…±æ¨¡å—æ—¶ï¼Œå¿…é¡»è¦å¸¦æœ‰å‚æ•° `--access public`

#### ä½¿ç”¨å¸¦æœ‰ scope çš„æ¨¡å—
`const XX = require('@naycur/business')` æˆ–è€… 
`import XX from '@maycur/business'`
ä¼šåŠ è½½ node_modules/@maycur/business æ¨¡å—

#### å‘å¸ƒå¸¦æœ‰ scope çš„æ¨¡å—
`npm publish` é»˜è®¤å‘å¸ƒä¸ºç§æœ‰æ¨¡å—ï¼Œçœç•¥äº† `--access restricted`ï¼Œ è¦æ±‚å¿…é¡»æœ‰ä¸€ä¸ª npm ç§æœ‰æ¨¡å—è´¦æˆ·ï¼Œå¯ä»¥é€‰æ‹©è‡ªå·±æ­å»ºä¸€ä¸ª npm æœåŠ¡æˆ–è€…ç›´æ¥ä½¿ç”¨å®˜æ–¹æä¾›çš„æœåŠ¡ï¼Œå‘å¸ƒ user-scoped æˆ–è€… organization-scoped çš„åŒ…
`npm publish --access public` å‘å¸ƒä¸ºå…±æœ‰æ¨¡å—

ç§æœ‰çš„ npm åŒ…æ€»æ˜¯å¸¦æœ‰ scopeï¼Œå¸¦æœ‰ scope çš„åŒ…é»˜è®¤æ˜¯ç§æœ‰çš„ã€‚

#### å°†ä¸€ä¸ª scope å’Œä¸€ä¸ªä»“åº“å…³è”

ä¸¾ä¸ªğŸŒ°
![@maycur](./@maycur.png)

### version 
è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆsemverï¼‰
`x.y.z` ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬
- è¿›è¡Œä¸å…¼å®¹çš„ API æ›´æ”¹æ—¶ï¼Œå‡çº§ä¸»ç‰ˆæœ¬
- ä»¥å‘åå…¼å®¹çš„æ–¹å¼æ·»åŠ åŠŸèƒ½æ—¶ï¼Œå‡çº§æ¬¡ç‰ˆæœ¬
- è¿›è¡Œå‘åå…¼å®¹çš„æ–¹å¼ä¿®å¤ç¼ºé™·æ—¶ï¼Œå‡çº§è¡¥ä¸ç‰ˆæœ¬

>å½“ä¸»ç‰ˆæœ¬å·å‡çº§åï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·éœ€è¦é‡ç½®ä¸º0ï¼Œæ¬¡ç‰ˆæœ¬å·è¿›è¡Œå‡çº§åï¼Œè¡¥ä¸ç‰ˆæœ¬éœ€è¦é‡ç½®ä¸º0ã€‚  

å…ˆè¡Œç‰ˆæœ¬å·ï¼ˆé¢„å‘å¸ƒå·ï¼‰ï¼šå‘å¸ƒæ­£å¼ç‰ˆä¹‹å‰çš„ç‰ˆæœ¬ï¼Œæ ¼å¼æ˜¯åœ¨è¡¥ä¸ç‰ˆæœ¬ååŠ ä¸€ä¸ªè¿æ¥å·ï¼Œå†åŠ ä¸Šä¸€è¿ä¸²ä»¥ç‚¹åˆ†å‰²çš„æ ‡è¯†ç¬¦
```
1.0.0-alpha
1.0.0-alpha.1
1.0.0-0.3.7
```

æ›´æ–°ç‰ˆæœ¬æ—¶çš„è§„åˆ™ï¼š
- `^` åªä¼šæ‰§è¡Œä¸æ›´æ”¹æœ€å·¦è¾¹éé›¶æ•°å­—çš„æ›´æ–°ï¼Œå¦‚ ^1.2.2 è¡¨ç¤ºå®‰è£… 1.x.x çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆä¸ä½äº 1.2.2ï¼‰; ^0.2.3 è¡¨ç¤ºå®‰è£… 0.2.x çš„æœ€æ–°ç‰ˆæœ¬ã€‚ä½¿ç”¨ `npm install <pkg-name>`æ—¶ï¼Œé»˜è®¤ä¼šåŠ  ^ 
- `~` æ›´æ–°åˆ°è¡¥ä¸ç‰ˆæœ¬ï¼Œå¦‚ ï½1.2.2 è¡¨ç¤ºå®‰è£… 1.2.x çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆä¸ä½äº 1.2.2ï¼‰
- `>`
- `>=`
- `<`
- `<=`
- `=`
- `-` æ¥å—ä¸€å®šèŒƒå›´çš„ç‰ˆæœ¬ï¼Œ`2.1.0 - 2.6.2`
- `||` ç»„åˆé›†åˆ `< 2.1 || > 2.6`
- `tag` 
- `x`ã€`X`ã€`*` é€šé…ç¬¦

### [npm version](https://docs.npmjs.com/cli/v7/commands/npm-version)
`npm version [<newversion> | major | minor | patch | premajor | preminor | prepatch | prerelease`
- è¿è¡Œè¯¥å‘½ä»¤ä¼šæ›´æ”¹ç‰ˆæœ¬å·ï¼Œå¹¶å°†æ•°æ®å†™å…¥ package.json å’Œ package-lock.json
- å½“åœ¨ git repo ä¸­è¿è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œ git commit æ“ä½œå¹¶æ‰“æ ‡ç­¾ tagï¼Œå¯é€šè¿‡ `npm --no-git-tag-version version` æ¥ç¦æ­¢æ‰“æ ‡ç­¾ã€‚
- è¿è¡Œè¯¥å‘½ä»¤éœ€è¦ç¡®ä¿å·¥ä½œç›®å½•æ˜¯å¹²å‡€çš„ï¼Œå¯é€šè¿‡ `-f` æˆ–è€… `--force` æ¥è·³è¿‡æ­¤æ“ä½œ

|npm version|åŠŸèƒ½|
|---|:--|
|major|- å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™ç›´æ¥å‡çº§ä¸€ä½å¤§å·ï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º0ï¼›<br/>- å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼š<br/>-- ä¸­å·å’Œå°å·éƒ½ä¸º0ï¼Œåˆ™ä¸å‡çº§å¤§å·ï¼Œè€Œå°†é¢„å‘å¸ƒå·åˆ æ‰ï¼Œå³2.0.0-1å˜æˆ2.0.0ï¼Œè¿™å°±æ˜¯é¢„å‘å¸ƒçš„ä½œç”¨ï¼›<br/>-- å¦‚æœä¸­å·å’Œå°å·æœ‰ä»»æ„ä¸€ä¸ªä¸æ˜¯0ï¼Œåˆ™ä¼šå‡çº§ä¸€ä½å¤§å·ï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º0ï¼Œæ¸…ç©ºé¢„å‘å¸ƒå·ã€‚å³ 2.0.1-0å˜æˆ3.0.0|
|minor|- å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å‡çº§ä¸€ä½ä¸­å·ï¼Œå¤§å·ä¸åŠ¨ï¼Œå°å·ç½®ä¸ºç©º<br/>- å¦‚æœæœ‰é¢„å‘å¸ƒå·:<br/>-- å¦‚æœå°å·ä¸º0ï¼Œåˆ™ä¸å‡çº§ä¸­å·ï¼Œå°†é¢„å‘å¸ƒå·å»æ‰<br/>-- å¦‚æœå°å·ä¸ä¸º0ï¼Œå‡çº§ä¸­å·ï¼Œå°å·ç½®ç©ºï¼ŒåŒç†æ²¡æœ‰é¢„å‘å¸ƒå·|
|patch|- å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼šç›´æ¥å‡çº§å°å·<br/>- å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼šå»æ‰é¢„å‘å¸ƒå·ï¼Œå…¶ä»–ä¸åŠ¨|
|premajor|- ç›´æ¥å‡çº§å¤§å·ï¼Œä¸­å·å’Œå°å·ç½®ä¸º0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0|
|preminor|- ç›´æ¥å‡çº§ä¸­å·ï¼Œå°å·ç½®ä¸º0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0|
|prepatch|- ç›´æ¥å‡çº§å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0|
|prerelease|- å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼šå¢åŠ å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0<br/>- å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å‡çº§é¢„å‘å¸ƒå·|

### [scripts](https://docs.npmjs.com/cli/v7/using-npm/scripts)
`scripts` å±æ€§æ”¯æŒå¤§é‡å†…ç½®çš„è„šæœ¬åŠå…¶é¢„ç½®çš„å£°æ˜å‘¨æœŸäº‹ä»¶ï¼Œå¯é€šè¿‡ `npm run-script <task-name>`ï¼ˆç®€å†™ä¸º `npm run <task-name>`ï¼‰ æ¥æ‰§è¡Œã€‚
åŒ¹é…åˆ° task-name çš„ pre å’Œ post å‘½ä»¤ä¹Ÿä¼šæ‰§è¡Œ
```
"scripts":{
  "prebuild": "{{ executes BEFORE the `build` script }}",
  "build": "{{ run command to build files }}",
  "postbuild": "{{ executes AFTER `build` script }}"
}
```

### å‘å¸ƒåŒ…
[npm publish](https://docs.npmjs.com/cli/v7/commands/npm-publish) 
`npm publish [<tarball>|<folder>] [--tag <tag>]`

- Publishes '.' if no argument supplied
- Sets tag 'latest' if no --tag specified` 
- `<tarball>|<folder>` ä¸­ä¸€å®šåŒ…å« package.json
## [package-lock.json](https://docs.npmjs.com/cli/v7/configuring-npm/package-lock-json)
package-lock.json ä¼šå›ºåŒ–å½“å‰å®‰è£…çš„æ¯ä¸ªè½¯ä»¶åŒ…çš„ç‰ˆæœ¬
å½“è¿è¡Œ `npm update` æ—¶ï¼Œ`package-lock.json` ä¸­çš„è½¯ä»¶åŒ…çš„ç‰ˆæœ¬ä¼šè¢«æ›´æ–°
requires å­—æ®µæŒ‡å®šäº†è½¯ä»¶åŒ…çš„ä¾èµ–ï¼Œå®ƒä»¬ä¼šæŒ‰ç…§å­—æ¯é¡ºåºè¢«æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªéƒ½æœ‰ `version` å­—æ®µï¼ŒæŒ‡å‘è½¯ä»¶åŒ…ä½ç½®çš„ `resolved` å­—æ®µï¼Œä»¥åŠç”¨äºæ ¡éªŒè½¯ä»¶åŒ…çš„ `integrity` å­—æ®µ

ä¸åŒ npm ç‰ˆæœ¬ä¸‹ `npm install` çš„è§„åˆ™
- `npm 5.0.x` ä¸ç®¡ package.json ä¸­ä¾èµ–æ˜¯å¦æ›´æ–°ï¼Œ éƒ½ä¼šæ ¹æ® package-lock.json ä¸‹è½½
- `npm 5.1.0`åï¼Œå½“ package.json ä¸­çš„ä¾èµ–é¡¹æœ‰æ–°ç‰ˆæœ¬æ—¶ï¼Œ`npm install` ä¼šæ— è§† package-lock.json å»ä¸‹è½½æ–°ç‰ˆæœ¬çš„ä¾èµ–å¹¶æ›´æ–° package-lock.json
- `5.4.2`ç‰ˆæœ¬åï¼Œ
  - å¦‚æœåªæœ‰ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œè¿è¡Œ `npm i` ä¼šæ ¹æ®å®ƒç”Ÿæˆä¸€ä¸ª package-lock.json æ–‡ä»¶
  - å¦‚æœ package.json çš„ `semver-range version` å’Œ package-lock.json ä¸­ç‰ˆæœ¬å…¼å®¹ï¼Œå³ä½¿ package.json ä¸­æœ‰æ–°çš„ç‰ˆæœ¬ï¼Œä¹Ÿè¿˜æ˜¯ä¼šæ ¹æ® package-lock.json ä¸‹è½½
  - å¦‚æœæ‰‹åŠ¨ä¿®æ”¹äº† package.json çš„ version rangesï¼Œä¸”å’Œ package-lock.json ä¸­ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œé‚£ä¹ˆæ‰§è¡Œ `npm i` æ—¶ package-lock.json å°†ä¼šæ›´æ–°åˆ°å…¼å®¹ package.json çš„ç‰ˆæœ¬

### æŸ¥çœ‹ npm åŒ…å®‰è£…çš„ç‰ˆæœ¬
`npm list` ä¹Ÿå¯ä»¥æ‰“å¼€ package-lock.json æ–‡ä»¶æŸ¥çœ‹
`npm list -g` é€‚ç”¨äºå…¨å±€å®‰è£…çš„è½¯ä»¶åŒ…
`npm list --depth=0` ä»…è·å–é¡¶å±‚çš„è½¯ä»¶åŒ…ï¼Œpackage.json ä¸­åˆ—å‡ºçš„è½¯ä»¶åŒ…
`npm list <pkg-name>` è·å–ç‰¹å®šè½¯ä»¶åŒ…çš„ç‰ˆæœ¬ï¼Œä¹Ÿé€‚ç”¨äºå®‰è£…çš„è½¯ä»¶åŒ…çš„ä¾èµ–
`npm view <pkg-name> version` æŸ¥çœ‹è½¯ä»¶åŒ…åœ¨ npm ä»“åº“ä¸Šçš„æœ€æ–°å¯ç”¨ç‰ˆæœ¬
`npm view <pkg-name> versions` æŸ¥çœ‹è½¯ä»¶åŒ…åœ¨ npm ä»“åº“ä¸Šçš„æ‰€æœ‰ç‰ˆæœ¬
`npm outdated` å‘è§‰è½¯ä»¶åŒ…çš„æ–°ç‰ˆæœ¬

### å®‰è£…åŒ…çš„æ—§ç‰ˆæœ¬
`npm install <package>@<version>`

package-lockå†²çªæ—¶å¦‚ä½•è§£å†³ï¼Ÿ


å‚è€ƒæ–‡çŒ®
- [npm Docs](https://docs.npmjs.com/)
- [npmçš„package.jsonå’Œpackage-lock.jsonæ›´æ–°ç­–ç•¥](https://blog.csdn.net/weixin_43820866/article/details/105232066)

